@model DetailsViewModel
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Gallery</title>
    <style>
        /* Стилове за галерията */
        .gallery {
            display: flex;
            flex-wrap: nowrap;
            overflow: hidden;
            background-color: #f2f2f2;
        }

        .gallery-item {
            flex: 0 0 100%; 
            text-align: center;
            justify-content:stretch;
            display:none;
            border-radius: 3em;
            border:2px solid black;
        }

        .gallery-item img {
  
            width: 90%;
            /*max-width:100%  only granted pichture will be in continer and not cross conteinr size*/
            height: auto;
            transition: transform 0.5s;
        }

        /* Стилове за бутоните */
        .gallery-controls {
            display: flex;
            justify-content: center;
            margin-top: 10px;

        }
       

        .gallery-controls button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 8px 16px;
            margin: 0 5px;
            cursor: pointer;
        }

        .info-content-section{
            
            display:flex;
            text-align:center;
            margin-top:1em;
            gap:4em;
        
        }

        .author-section a{
            background-color: #4CAF50;
            color: aliceblue;
            
            padding: 5px 10px;
        }


    </style>
</head>
<body>
    <h1>Image Gallery</h1>

    <!-- Контейнер за галерията -->
     <div class="gallery">

        <div class="gallery-item">
            @foreach (var image in Model.Images)
            {
                <div class="gallery-img">
                    <img src="@Url.Action("GetImage", "Gallery", new { fileName = image.FileName })" alt="Image">
                </div>
            }
            <div class="gallery-controls">
                <button onclick="plusSlides(-1)">&#10094; Предишно изображение</button>
                <button onclick="plusSlides(1)">&#10095; Следващо изображение</button>
            </div>

           
        </div>
      
     </div>
        

    <div class="info-content-section">

        <section class="info-section">

            <p>Title: @Model.Title</p>
            <p>Description:@Model.Description</p>
            <p>Count of pictures: @Model.Images.Count();</p>

        </section>
        <section class="author-section">
            <p>Aouthor info</p>
            <a asp-action="All" asp-controller="Gallery"> #10095; Click </a>
        </section>
    </div>
           

    <script>
        // JavaScript код за управление на изображенията
        let slideIndex = 1;
        showSlides(slideIndex);

        function plusSlides(n) {
            showSlides(slideIndex += n);
        }

        function showSlides(n) {
            const galleryItems = document.querySelectorAll('.gallery-item');
            if (n > galleryItems.length) { slideIndex = 1 }
            if (n < 1) { slideIndex = galleryItems.length }

            galleryItems.forEach(item => item.style.display = 'none');

            galleryItems[slideIndex - 1].style.display = 'block';
        }
    </script>
</body>
</html>